#!/bin/bash

# Reconstruct json content from the flat json format generated by `jq-json` script

# Ref: https://news.ycombinator.com/item?id=20245913


# ( jq "$(sed 's/$/ |/;$a.')" <<< '{}' )

# below command doesn't work on macOS due to an issue with sed:
# `sed: 1: "s/$/ |/;$a.": command a expects \ followed by text`
# jq -nf <(sed 's/$/ |/;$a.')

# this works on both macOS and Linux
jq -nf <(sed 's/$/ |/;$a\
  .')

